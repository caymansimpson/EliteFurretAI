# Model paths
bc_action_path: data/models/supervised/magic-resonance-88.pt
bc_teampreview_path: data/models/supervised/magic-resonance-88.pt
bc_win_path: data/models/supervised/magic-resonance-88.pt
resume_from: null

# Team configurations
base_team_path: data/teams
battle_format: gen9vgc2023regc
team_pool_path: easy
use_random_teams: true

# Training hyperparameters
# OPTIMAL CONFIG: 8 servers × 2 pairs = ~2,750 battles/hr (5.5x baseline)
# See OPTIMIZATIONS.md Session 4 for full stress test results
# CPU: 16%, RAM: 9GB, GPU: ~3GB - bottleneck is Showdown WebSocket I/O
num_workers: 7               # One worker per server
players_per_worker: 2        # 2 pairs per worker = 16 concurrent total
batch_size: 16  # Max batch size for inference
lr: 5e-5
train_batch_size: 128 # batch size used for policy updates
max_updates: 100000
rnad_alpha: 0.005
gamma: 0.99
gae_lambda: 0.95
clip_range: 0.1
ent_coef: 0.001
vf_coef: 0.5
device: cuda

# Portfolio regularization
use_portfolio_regularization: false
max_portfolio_size: 5
portfolio_update_strategy: diverse
portfolio_add_interval: 5000

# Mixed Precision Training
use_mixed_precision: true
gradient_clip: 0.5

# Checkpointing
initialize_path: data/models/supervised/magic-resonance-88.pt 
checkpoint_interval: 1000
max_past_models: 10
ref_update_interval: 1000
past_models_dir: data/models/rl/past_versions
save_dir: data/models/rl

# Opponent Pool Configuration
curriculum:
  bc_player: 0.2
  exploiters: 0.2
  past_versions: 0.2
  self_play: 0.4
curriculum_update_interval: 500
exploiter_registry_path: data/models/exploiter_registry.json

# Exploiter Training
train_exploiters: false
exploiter_ent_coef: 0.02
exploiter_eval_games: 100
exploiter_interval: 10000
exploiter_lr: 0.0001
exploiter_min_win_rate: 0.55
exploiter_output_dir: data/models/exploiters
exploiter_team_pool_path: null
exploiter_updates: 50000

# Logging
use_wandb: true
log_interval: 1
wandb_project: elitefurretai-rnad
wandb_run_name: null
wandb_tags: 
  - test

# Server parameters
# OPTIMAL: 8 servers × 2 pairs = ~2,750 battles/hr (tested in OPTIMIZATIONS.md Session 4)
# Start servers: for port in 8000 8001 8002 8003 8004 8005 8006 8007; do node pokemon-showdown start --no-security --port $port &; done
num_showdown_servers: 7
showdown_start_port: 8000